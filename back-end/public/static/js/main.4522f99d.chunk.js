(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{39:function(e,t,a){},72:function(e,t,a){},77:function(e,t,a){},79:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),c=a.n(r),s=a(32),i=a.n(s),l=(a(72),a(6)),o=a(10),u=a(4),d=a(12),b=(a(77),a.p+"static/media/tent.660aed22.png"),j=function(e){var t=e.showRoleForm;return Object(n.jsx)("div",{children:Object(n.jsx)("button",{onClick:function(e){t()},children:"sign up"})})},m=function(e){var t=e.showLoginForm;return Object(n.jsx)("div",{children:Object(n.jsx)("button",{onClick:function(){t()},children:"log in"})})},p=a(2),O=a.n(p),f=a(7),h=(a(39),a(5)),x=a(43),g=a.n(x);function v(e){return _.apply(this,arguments)}function _(){return(_=Object(f.a)(O.a.mark((function e(t){var a,n,r,c,s=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=s.length>1&&void 0!==s[1]?s[1]:{}).method=a.method||"GET",a.headers=a.headers||{},"GET"!==a.method.toUpperCase()&&(console.log("INSIDE CSRF!!!!"),a.body instanceof FormData?(console.log("INSTANCE OF FORM DATA!!"),a.headers["XSRF-Token"]=g.a.get("XSRF-TOKEN")):(a.headers["Content-Type"]=a.headers["Content-Type"]||"application/json",a.headers["XSRF-Token"]=g.a.get("XSRF-TOKEN"))),e.next=6,window.fetch(t,a);case 6:if(n=e.sent,!(r=n.headers.get("content-type"))||!r.includes("application/json")){e.next=13;break}return e.next=11,n.json();case 11:c=e.sent,n.data=c;case 13:if(!(n.status>=400)){e.next=15;break}throw n;case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N="songcamp/session/LOAD_USER",w="songcamp/session/REMOVE_USER",k=function(e){return{type:N,user:e}},T=function(e){var t=e.credential,a=e.password;return function(){var e=Object(f.a)(O.a.mark((function e(n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v("/api/session",{method:"POST",body:JSON.stringify({credential:t,password:a})});case 2:return r=e.sent,n(k(r.data.user)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(f.a)(O.a.mark((function t(a){var n,r,c,s,i,l,o,u,d;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userName,r=e.email,c=e.password,s=e.artistName,i=e.genre,l=e.isArtist,o=e.bio,u=e.imgUrl,t.next=3,v("/api/users/fans",{method:"POST",body:JSON.stringify({userName:n,email:r,password:c,artistName:s,isArtist:l,bio:o,imgUrl:u,genre:i})});case 3:return d=t.sent,a(k(d.data.user)),t.abrupt("return",d);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(f.a)(O.a.mark((function t(a){var n,r,c,s,i,l,o,u,d;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userName,r=e.email,c=e.password,s=e.artistName,i=e.genre,l=e.isArtist,o=e.bio,u=e.imgUrl,t.next=3,v("/api/users/artists",{method:"POST",body:JSON.stringify({userName:n,email:r,password:c,artistName:s,isArtist:l,bio:o,genre:i,imgUrl:u})});case 3:return d=t.sent,a(k(d.data.user)),t.abrupt("return",d);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C={user:null},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(console.log("action!",t),t.type){case N:return Object(h.a)(Object(h.a)({},e),{},{user:t.user});case w:return Object(h.a)(Object(h.a)({},e),{},{user:null});default:return e}},I=function(e){var t=e.hideFanSignupForm,a=Object(r.useState)(""),c=Object(u.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)(""),d=Object(u.a)(o,2),b=d[0],j=d[1],m=Object(r.useState)(""),p=Object(u.a)(m,2),h=p[0],x=p[1],g=Object(r.useState)(""),v=Object(u.a)(g,2),_=v[0],N=v[1],w=Object(r.useState)([]),k=Object(u.a)(w,2),T=k[0],y=k[1],C=Object(l.b)(),E=function(e){return function(t){console.log(t.target.value),e(t.target.value)}},I=function(){var e=Object(f.a)(O.a.mark((function e(a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),console.log("IN HANDLESUBMIT!!!"),n={email:s,password:b,userName:_,artistName:null,isArtist:false,bio:null,imgUrl:null,genre:null},b!==h){e.next=7;break}return y([]),t(),e.abrupt("return",C(S(n)).catch((function(e){e.data&&e.data.errors&&y(e.data.errors)})));case 7:return e.abrupt("return",y(["Confirm Password field must be the same as the Password field"]));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"form-holder",children:Object(n.jsxs)("div",{className:"form-content",children:[Object(n.jsxs)("div",{className:"form-header-container",children:[Object(n.jsx)("h3",{className:"form-header",children:"Sign up for a Songcamp fan account"})," ",Object(n.jsx)("span",{onClick:function(e){console.log("close"),t()},className:"form-close-btn",children:"x"})]}),Object(n.jsxs)("form",{className:"form",children:[Object(n.jsx)("ul",{children:T.map((function(e,t){return Object(n.jsx)("li",{children:e},t)}))}),Object(n.jsx)("label",{children:"Email address"}),Object(n.jsx)("input",{name:"email",placeholder:s,value:s,onChange:E(i)}),Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",name:"password",placeholder:b,value:b,onChange:E(j)}),Object(n.jsx)("label",{children:"Confirm Password"}),Object(n.jsx)("input",{type:"password",value:h,onChange:function(e){return x(e.target.value)},required:!0}),Object(n.jsx)("label",{children:"Username"}),Object(n.jsx)("input",{type:"text",name:"username",placeholder:_,value:_,onChange:E(N)}),Object(n.jsx)("label",{}),Object(n.jsx)("button",{onClick:I,children:"Sign up"})]})]})})},D=(a(79),"songcamp/genres/LOAD_GENRES");var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(h.a)(Object(h.a)({},e),{},{list:t.list});default:return e}},F=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(""),i=Object(u.a)(s,2),o=i[0],b=i[1],j=Object(r.useState)(""),m=Object(u.a)(j,2),p=m[0],h=m[1],x=Object(r.useState)(""),g=Object(u.a)(x,2),_=g[0],N=g[1],w=Object(r.useState)(""),k=Object(u.a)(w,2),T=k[0],S=k[1],C=Object(r.useState)(""),E=Object(u.a)(C,2),I=E[0],A=E[1],F=Object(l.c)((function(e){return e.genres.list})),L=Object(r.useState)([]),U=Object(u.a)(L,2),R=U[0],P=U[1],B=Object(l.b)();Object(d.g)();Object(r.useEffect)((function(){B(function(){var e=Object(f.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v("/api/genres");case 2:a=e.sent,console.log("GENRES!!",a.data.genres),t((n=a.data.genres,{type:D,list:n}));case 5:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}())}),[B]);var M=function(e){return function(t){console.log(t.target.value),e(t.target.value)}},V=function(){var e=Object(f.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n={email:_,userName:p,password:T,artistName:a,genre:o,isArtist:true,imgUrl:null,bio:null},T!==I){e.next=5;break}return P([]),e.abrupt("return",B(y(n)).catch((function(e){e.data&&e.data.errors&&P(e.data.errors)})));case 5:return e.abrupt("return",P(["Confirm Password field must be the same as the Password field"]));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"artist-signup-form__holder",children:Object(n.jsxs)("div",{className:"artist-signup-form__content",children:[Object(n.jsxs)("div",{className:"artist-signup-form__header-container",children:[Object(n.jsx)("h3",{className:"signup-form-header",children:"Sign up for a Songcamp artist account"})," ",Object(n.jsx)("span",{onClick:function(e){console.log("close")},className:"signup-form-close-btn",children:"x"})]}),Object(n.jsxs)("form",{className:"artist-signup-form",children:[Object(n.jsx)("ul",{children:R.map((function(e,t){return Object(n.jsx)("li",{children:e},t)}))}),Object(n.jsx)("label",{children:"Artist/Band name"}),Object(n.jsx)("input",{type:"text",name:"artistName",placeholder:a,value:a,onChange:M(c)}),Object(n.jsx)("label",{children:"Genre"}),Object(n.jsxs)("select",{onChange:M(b),children:[Object(n.jsx)("option",{children:"-- choose a genre --"}),F&&F.map((function(e){return Object(n.jsx)("option",{children:e.type},e.id)}))]}),Object(n.jsx)("label",{children:"Username"}),Object(n.jsx)("input",{type:"text",name:"username",placeholder:p,value:p,onChange:M(h)}),Object(n.jsx)("label",{children:"Email address"}),Object(n.jsx)("input",{name:"email",placeholder:_,value:_,onChange:M(N)}),Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",name:"password",placeholder:T,value:T,onChange:M(S)}),Object(n.jsx)("label",{children:"Confirm password"}),Object(n.jsx)("input",{type:"password",name:"confirmPassword",placeholder:I,value:I,onChange:M(A)}),Object(n.jsx)("button",{onClick:V,children:"Sign up"})]})]})})},L=function(e){var t=e.hideLoginForm,a=Object(l.b)(),c=Object(l.c)((function(e){return e.session.user})),s=Object(r.useState)(""),i=Object(u.a)(s,2),o=i[0],b=i[1],j=Object(r.useState)(""),m=Object(u.a)(j,2),p=m[0],h=m[1],x=Object(r.useState)([]),g=Object(u.a)(x,2),v=g[0],_=g[1];if(c)return Object(n.jsx)(d.a,{to:"/"});var N=function(e){return function(t){e(t.target.value)}},w=function(){var e=Object(f.a)(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log("IN HANDLESUBMIT!!!"),e.abrupt("return",a(T({credential:o,password:p})).then((function(){return t()})).catch((function(e){e.data&&e.data.errors&&_(e.data.errors)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"form-holder",children:Object(n.jsxs)("div",{className:"form-content",children:[Object(n.jsxs)("div",{className:"form-header-container",children:[Object(n.jsx)("h3",{className:"form-header",children:"Log in"})," ",Object(n.jsx)("span",{onClick:function(e){console.log("close"),t()},className:"form-close-btn",children:"x"})]}),Object(n.jsxs)("form",{className:"form",children:[Object(n.jsx)("ul",{children:v.map((function(e,t){return Object(n.jsx)("li",{children:e},t)}))}),Object(n.jsx)("label",{children:"Email address"}),Object(n.jsx)("input",{name:"email",placeholder:o,value:o,onChange:N(b)}),Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",name:"password",placeholder:p,value:p,onChange:N(h)}),Object(n.jsx)("button",{onClick:w,children:"Log in"})]})]})})},U=a.p+"static/media/artist-option-icon.4cf0f7b1.png",R=a.p+"static/media/fan-option-icon.d9d6c2ea.png",P=function(e){var t=e.hideRoleForm,a=e.showFanSignupForm,r=e.showArtistSignupForm,c=function(e){e.preventDefault(),console.log("USER CHOSE ".concat(e.target.value," AS ROLE!!!!")),"fan"===e.target.value?a():"artist"===e.target.value&&r(),t()};return Object(n.jsx)("div",{className:"form-holder",children:Object(n.jsxs)("div",{className:"role-form-content",children:[Object(n.jsxs)("div",{className:"form-header-container",children:[Object(n.jsx)("h3",{className:"form-header",children:"Sign up for a Songcamp account"}),Object(n.jsx)("span",{onClick:function(e){console.log("close"),t()},className:"form-close-btn",children:"x"})]}),Object(n.jsxs)("form",{className:"role-form",children:[Object(n.jsxs)("div",{className:"role-form__option-holder",children:[Object(n.jsx)("img",{src:R}),Object(n.jsxs)("div",{className:"role-form__button-holder",children:[Object(n.jsx)("button",{className:"role-form__fan-button",value:"fan",onClick:c,children:"Sign up as a fan"}),Object(n.jsx)("p",{children:"Follow your favorite artists!"})]})]}),Object(n.jsxs)("div",{className:"role-form__option-holder",children:[Object(n.jsx)("img",{src:U}),Object(n.jsxs)("div",{className:"role-form__button-holder",children:[Object(n.jsx)("button",{className:"role-form__artist-button",value:"artist",onClick:c,children:"Sign up as an artist"}),Object(n.jsx)("p",{children:"Share your music with your fans!"})]})]})]})]})})},B="songcamp/ui-fan-signup/HIDE_FORM",M="songcamp/ui-fan-signup/SHOW_FORM";var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{formVisible:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(h.a)(Object(h.a)({},e),{},{formVisible:!1});case M:return Object(h.a)(Object(h.a)({},e),{},{formVisible:!0});default:return e}},H="songcamp/ui-artist-signup/HIDE_FORM",K="songcamp/ui-artist-signup/SHOW_FORM",W=function(){return{type:H}};var G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{formVisible:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(h.a)(Object(h.a)({},e),{},{formVisible:!1});case K:return Object(h.a)(Object(h.a)({},e),{},{formVisible:!0});default:return e}},J="songcamp/ui-login/HIDE_FORM",X="songcamp/ui-login/SHOW_FORM";var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{formVisible:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(h.a)(Object(h.a)({},e),{},{formVisible:!1});case X:return Object(h.a)(Object(h.a)({},e),{},{formVisible:!0});default:return e}},z="songcamp/ui-role/HIDE_FORM",q="songcamp/ui-role/SHOW_FORM";var Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{formVisible:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(h.a)(Object(h.a)({},e),{},{formVisible:!1});case q:return Object(h.a)(Object(h.a)({},e),{},{formVisible:!0});default:return e}},Z=function(e){e.setNavVisible;var t=Object(l.c)((function(e){return e.fanSignupForm.formVisible})),a=Object(l.c)((function(e){return e.artistSignupForm.formVisible})),r=Object(l.c)((function(e){return e.loginForm.formVisible})),c=Object(l.c)((function(e){return e.roleForm.formVisible})),s=Object(l.b)();return Object(n.jsxs)(n.Fragment,{children:[t?Object(n.jsx)(I,{hideFanSignupForm:function(){return s({type:B})}}):null,r?Object(n.jsx)(L,{hideLoginForm:function(){return s({type:J})}}):null,c?Object(n.jsx)(P,{hideRoleForm:function(){return s({type:z})},showFanSignupForm:function(){return s({type:M})},showArtistSignupForm:function(){return s({type:K})}}):null,Object(n.jsxs)("div",{className:"signup-page__holder",children:[Object(n.jsxs)("div",{className:"signup-page__top-row-holder",children:[Object(n.jsxs)("div",{className:"signup-page__header-holder",children:[Object(n.jsxs)("div",{className:"signup-page__logo-holder",children:[Object(n.jsx)("img",{className:"signup-page__tent-img",src:b}),Object(n.jsx)("h3",{children:"songcamp"})]}),Object(n.jsx)("div",{className:"signup-page__discover",children:"Discover new and amazing music and support the artists who make it."})]}),Object(n.jsxs)("div",{className:"signup-page__signup-login-btn-holder",children:[Object(n.jsx)(j,{showRoleForm:function(){return s({type:q})}}),Object(n.jsx)(m,{showLoginForm:function(){return s({type:X})}})]})]}),a?Object(n.jsx)(F,{hideArtistSignupForm:W}):Object(n.jsx)("div",{className:"signup-page__main-img-holder",children:Object(n.jsxs)("div",{className:"signup-page__message-holder",children:[Object(n.jsx)("h2",{children:"Welcome to Songcamp"}),"\xa0Listen. Create. Share.",Object(n.jsx)("button",{children:"Sign Up Now"})]})}),Object(n.jsx)("div",{className:"signup-page__footer"})]})]})},$=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.session.user})),a=Object(r.useState)(""),c=Object(u.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)(""),b=Object(u.a)(o,2),j=b[0],m=b[1],p=Object(r.useState)([]),h=Object(u.a)(p,2),x=h[0],g=h[1];if(t)return Object(n.jsx)(d.a,{to:"/"});var v=function(e){return function(t){e(t.target.value)}},_=function(){var t=Object(f.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),{credential:s,password:j},t.abrupt("return",e(T({credential:s,password:j})).catch((function(e){e.data&&e.data.errors&&g(e.data.errors)})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"signup-form-holder",children:Object(n.jsxs)("div",{className:"signup-form-content",children:[Object(n.jsxs)("div",{className:"signup-form-header-container",children:[Object(n.jsx)("h3",{className:"signup-form-header",children:"Log in"})," ",Object(n.jsx)("span",{onClick:function(e){console.log("close")},className:"signup-form-close-btn",children:"x"})]}),Object(n.jsx)("ul",{children:x.map((function(e,t){return Object(n.jsx)("li",{children:e},t)}))}),Object(n.jsxs)("form",{className:"signup-form",children:[Object(n.jsx)("label",{children:"Email address"}),Object(n.jsx)("input",{name:"email",placeholder:s,value:s,onChange:v(i)}),Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",name:"password",placeholder:j,value:j,onChange:v(m)}),Object(n.jsx)("button",{onClick:_,children:"Log in"})]})]})})},ee=(a(81),function(e){var t=e.user,a=Object(l.b)(),c=Object(r.useState)(!1),s=Object(u.a)(c,2),i=s[0],o=s[1];Object(r.useEffect)((function(){if(i){var e=function(){o(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}}),[i]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{className:"profile-button",onClick:function(){i||o(!0)},children:Object(n.jsx)("i",{className:"fab fa-creative-commons-sampling"})}),i&&Object(n.jsxs)("ul",{className:"profile-dropdown",children:[Object(n.jsx)("li",{children:t.username}),Object(n.jsx)("li",{children:t.email}),Object(n.jsx)("li",{children:Object(n.jsx)("button",{onClick:function(e){e.preventDefault(),a(function(){var e=Object(f.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v("/api/session",{method:"DELETE"});case 2:return a=e.sent,t({type:w}),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Log Out"})})]})]})}),te=function(e){var t=e.isLoaded,a=Object(l.c)((function(e){return e.session.user}));return console.log("USER",a),t?Object(n.jsx)(n.Fragment,{children:a?Object(n.jsx)(ee,{user:a}):Object(n.jsxs)("div",{children:[Object(n.jsx)(o.b,{exact:!0,to:"/",children:"Home"}),Object(n.jsx)(o.b,{exact:!0,to:"/login",children:"Login"}),Object(n.jsx)(o.b,{exact:!0,to:"/signup",children:"Signup"})]})}):null},ae="songcamp/following/LOAD_FOLLOWING",ne="songcamp/followers/LOAD_FOLLOWERS",re=function(e){return function(){var t=Object(f.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v("/api/follows/following/".concat(e));case 2:return n=t.sent,console.log("FOLLOWING LIST!!!! ",n.data.following),a((r=n.data.following,{type:ae,list:r})),t.abrupt("return",n);case 6:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},ce=function(e){return function(){var t=Object(f.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v("/api/follows/followers/".concat(e));case 2:return n=t.sent,a((r=n.data.followers,{type:ne,list:r})),t.abrupt("return",n);case 5:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},se=function(e){return e.map((function(e){return e.user}))},ie=function(e){return e.map((function(e){return e.following}))};var le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(h.a)(Object(h.a)({},e),{},{followingList:ie(t.list)});case ne:return Object(h.a)(Object(h.a)({},e),{},{followersList:se(t.list)});default:return e}},oe="songcamp/albums/LOAD_ALL_ALBUMS",ue="songcamp/albums/LOAD_ALL_ALBUMS_FOR_ONE_ARTIST",de="songcamp/albums/LOAD_FEATURED_ALBUMS";var be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return Object(h.a)(Object(h.a)({},e),{},{list:t.list});case ue:return Object(h.a)(Object(h.a)({},e),{},{oneArtistAlbumsList:t.list});case de:return Object(h.a)(Object(h.a)({},e),{},{featuredAlbumsList:t.list});default:return e}},je=(a(82),function(e){var t=e.albums;e.handleEditAlbumBtn;return Object(n.jsx)(n.Fragment,{children:t.map((function(e){return Object(n.jsxs)("div",{className:"album__holder",children:[Object(n.jsx)("div",{className:"album__artwork",style:{backgroundImage:"url(".concat(e.imgUrl,")")},children:e.isPublished?null:Object(n.jsx)("div",{className:"album__draft",children:"draft"})}),Object(n.jsx)("div",{className:"album__title",children:e.title}),Object(n.jsx)(o.b,{exact:!0,to:"/edit-album/".concat(e.id),className:"album__edit-link",children:"edit"})]},e.id)}))})}),me=function(e){var t=e.following;return Object(n.jsx)(n.Fragment,{children:t.map((function(e){return Object(n.jsxs)("div",{className:"following__photo-holder",children:[Object(n.jsx)("div",{className:"following__photo",style:{backgroundImage:"url(".concat(e.imgUrl,")")}}),e.userName]},e.id)}))})},pe=function(e){e.bioFormVisible;var t=e.setBioFormVisible,a=e.bioEditFormVisible,c=e.setBioEditFormVisible,s=Object(l.b)(),i=Object(r.useState)(""),o=Object(u.a)(i,2),d=o[0],b=o[1],j=Object(r.useState)([]),m=Object(u.a)(j,2),p=m[0],h=m[1],x=function(e){a?c(!1):t(!1)};return Object(n.jsxs)("form",{children:[Object(n.jsx)("ul",{children:p.map((function(e,t){return Object(n.jsx)("li",{children:e},t)}))}),Object(n.jsx)("textarea",{onChange:function(e){b(e.target.value),console.log("BIO ",d)},value:d,className:"artist-info__bio-text-field"}),Object(n.jsx)("button",{className:"artist-info__submit-form-btn",type:"submit",onClick:function(e){return e.preventDefault(),s(function(e){return function(){var t=Object(f.a)(O.a.mark((function t(a,n){var r,c,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.session.user.id,console.log("DATA!! ",e),t.next=4,v("/api/users/".concat(c),{method:"PATCH",body:JSON.stringify(e)});case 4:return s=t.sent,t.next=7,a(k(s.data.updatedUser));case 7:return console.log("EDITED BIO! ",s.data.updatedUser),t.abrupt("return",s.data.updatedUser);case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}({bio:d})).then((function(e){return x()})).catch((function(e){e.data&&e.data.errors&&h(e.data.errors)}))},children:"Submit"}),Object(n.jsx)("button",{className:"artist-info__cancel-btn",onClick:x,children:"Cancel"})]})},Oe=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1];return Object(n.jsx)(n.Fragment,{children:a?Object(n.jsx)(pe,{bioFormVisible:a,setBioFormVisible:c}):Object(n.jsx)("button",{onClick:function(){return c(!0)},className:"artist-info__add-bio-btn",children:"add artist bio"})})},fe=function(){var e=Object(l.c)((function(e){return e.session.user})),t=Object(r.useState)(!1),a=Object(u.a)(t,2),c=a[0],s=a[1];return Object(n.jsx)(n.Fragment,{children:c?Object(n.jsx)(pe,{bioEditFormVisible:c,setBioEditFormVisible:s}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"artist-info__bio-header",children:["Bio",Object(n.jsx)("button",{className:"artist-info__bio-edit-btn",onClick:function(){return s(!0)},children:"edit"})]}),e.bio]})})},he=function(e){var t=e.followers;return Object(n.jsx)(n.Fragment,{children:t&&t.map((function(e){return Object(n.jsx)(o.b,{className:"followers__link",exact:!0,to:"",children:Object(n.jsxs)("div",{className:"followers__photo-holder",children:[Object(n.jsx)("div",{className:"followers__photo",style:{backgroundImage:"url(".concat(e.imgUrl,")")}}),e.userName]})},e.id)}))})},xe=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.session.user})),a=Object(l.c)((function(e){return e.follows.followersList})),c=Object(l.c)((function(e){return e.follows.followingList})),s=Object(l.c)((function(e){return e.albums.oneArtistAlbumsList}));Object(r.useEffect)((function(){e(ce(t.id)).then((function(){return e(re(t.id))})).then((function(){return e((t.id,function(){var e=Object(f.a)(O.a.mark((function e(t,a){var n,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=n.session.user.id,e.next=3,v("/api/albums/artist/".concat(r,"/all"));case 3:return c=e.sent,t((s=c.data.albums,{type:ue,list:s})),e.abrupt("return",c);case 6:case"end":return e.stop()}var s}),e)})));return function(t,a){return e.apply(this,arguments)}}()))}))}),[t.id]);return s?Object(n.jsx)("div",{className:"artist-page__holder",children:Object(n.jsxs)("div",{className:"artist-page",children:[Object(n.jsxs)("div",{className:"left-column__holder",children:[Object(n.jsx)("div",{className:"artist-page__header-holder",children:Object(n.jsx)("h1",{className:"artist-page__header",children:t.artistName})}),Object(n.jsxs)("div",{className:"discography",children:[s?null:Object(n.jsx)("div",{className:"discography__add-album-message",children:"Add an album and build your fanbase!"}),Object(n.jsxs)("div",{className:"discography__header-holder",children:[Object(n.jsx)("h3",{children:"DISCOGRAPHY"}),Object(n.jsx)(o.b,{exact:!0,className:"discography__add-link",to:"/create-album",children:"+ add"})]}),Object(n.jsx)("div",{className:"albums__holder",children:s?Object(n.jsx)(je,{albums:s,handleEditAlbumBtn:function(e){return function(e){console.log("edit button clicked!")}}}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"album__placeholder"}),Object(n.jsx)("div",{className:"album__placeholder"}),Object(n.jsx)("div",{className:"album__placeholder"}),Object(n.jsx)("div",{className:"album__placeholder"})]})})]}),Object(n.jsxs)("div",{className:"follows__header-holder",children:[Object(n.jsx)("h3",{className:"follows__following-header",children:"Following"}),Object(n.jsx)("h3",{className:"follows__followers-header",children:"Followers"})]}),Object(n.jsxs)("div",{className:"follows__holder",children:[Object(n.jsx)("div",{className:"following__holder",children:c?Object(n.jsx)(me,{following:c}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"following__placeholder"}),Object(n.jsx)("div",{className:"following__placeholder"}),Object(n.jsx)("div",{className:"following__placeholder"}),Object(n.jsx)("div",{className:"following__placeholder"})]})}),Object(n.jsx)("div",{className:"followers__holder",children:Object(n.jsx)(he,{followers:a})})]})]}),Object(n.jsxs)("div",{className:"right-column__holder",children:[t.imgUrl?Object(n.jsx)("div",{className:"artist-info__photo",style:{backgroundImage:"url(".concat(t.imgUrl,")")}}):Object(n.jsx)("button",{className:"artist-info__photo-placeholder",children:"add artist photo"}),Object(n.jsx)("div",{className:"artist-info__name",children:t.artistName}),Object(n.jsx)("div",{className:"artist-info__bio-holder",children:t.bio?Object(n.jsx)(fe,{}):Object(n.jsx)(Oe,{})})]})]})}):(console.log("NOT LOADED YET"),null)},ge=a(35),ve=a.n(ge),_e="songcamp/album/SET_CURRENT",Ne="songcamp/album/REMOVE_ALBUM",we=function(e){return function(){var t=Object(f.a)(O.a.mark((function t(a,n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("GET ONE ALBUM"),t.next=3,v("/api/albums/".concat(e));case 3:return r=t.sent,console.log("ONE ALBUM!!! ",r.data.album),a((n=r.data.album,{type:_e,current:n})),t.abrupt("return",r);case 7:case"end":return t.stop()}var n}),t)})));return function(e,a){return t.apply(this,arguments)}}()},ke=function(e){return function(){var t=Object(f.a)(O.a.mark((function t(a,n){var r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("INSIDE CREATE ALBUM"),t.next=3,v("/api/albums",{method:"POST",body:e});case 3:if(401!==(r=t.sent).status){t.next=7;break}return window.location.href="/log-in",t.abrupt("return");case 7:return c=r.data.newAlbum.id,t.next=10,a(we(c));case 10:return console.log("new album created!!!"),t.abrupt("return",r);case 12:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},Te=function(e,t){return function(){var a=Object(f.a)(O.a.mark((function a(n,r){var c;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("INSIDE EDIT ALBUM"),a.next=3,v("/api/albums/".concat(t),{method:"PUT",body:e});case 3:return c=a.sent,console.log("RES.DATA.UPDATEDALBUM!!! ",c.data.album),a.next=7,n(we(t));case 7:return a.abrupt("return",c);case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},Se=function(e,t){return function(){var a=Object(f.a)(O.a.mark((function a(n){var r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("INSIDE EDIT ALBUM"),a.next=3,v("/api/albums/".concat(t,"/delete-album-art"),{method:"PATCH",body:JSON.stringify(e)});case 3:return r=a.sent,console.log("ALBUM WITH ARTWORK DELETED! ",r.data.album),a.next=7,n(we(t));case 7:return a.abrupt("return",r);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ye=function(e,t){return function(){var a=Object(f.a)(O.a.mark((function a(n){var r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("PUBLISH ALBUM!!"),a.next=3,v("/api/albums/".concat(t,"/publish"),{method:"PATCH",body:JSON.stringify(e)});case 3:return r=a.sent,a.next=6,n(we(t));case 6:return a.abrupt("return",r);case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()};var Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return Object(h.a)(Object(h.a)({},e),{},{current:t.current});case Ne:return Object(h.a)(Object(h.a)({},e),{},{current:null});default:return e}},Ee=(a(83),a(84),function(e){var t=e.albumTitle,a=e.setAlbumTitle,c=e.description,s=e.setDescription,i=e.credits,o=e.setCredits,d=e.img,b=e.setImg,j=e.isPublished,m=e.setAlbumIsLoading,p=e.setCurrentIdx,h=Object(l.b)(),x=Object(l.c)((function(e){return e.session.user})),g=Object(l.c)((function(e){return e.album.current})),v=Object(r.useState)([]),_=Object(u.a)(v,2),N=_[0],w=_[1],k=function(e){return function(t){t.preventDefault(),e(t.target.value)}};return Object(n.jsxs)("div",{className:"album-edit-page__album-detail-form",children:[Object(n.jsx)("ul",{className:"errors",children:N.map((function(e,t){return Object(n.jsx)("li",{children:e},t)}))}),Object(n.jsx)("label",{className:"album-edit-page__album-title-label",children:"ALBUM TITLE"}),Object(n.jsx)("input",{className:"album-edit-page__album-title-input",type:"text",name:"albumTitle",value:t,onChange:k(a)}),Object(n.jsx)("label",{children:"upload album art:"}),Object(n.jsx)("input",{className:"album-edit-page__upload-input",type:"file",onChange:function(e){return b(e.target.files[0])}}),Object(n.jsx)("label",{children:"about this album:"}),Object(n.jsx)("textarea",{name:"description",value:c,onChange:k(s)}),Object(n.jsx)("label",{children:"credits:"}),Object(n.jsx)("textarea",{name:"credits",value:i,onChange:k(o)}),g?Object(n.jsx)("button",{type:"submit",className:"album-edit-page__edit-btn",onClick:function(e){e.preventDefault(),m(!0);var a=new FormData;a.append("title",t),a.append("description",c),a.append("credits",i),a.append("isPublished",j),a.append("file",d),a.append("artistId",x.id),Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(Te(a,g.id));case 3:return e.next=5,b("");case 5:return e.next=7,w([]);case 7:return e.next=9,m(!1);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),m(!1),e.t0.data&&e.t0.data.errors&&w(e.t0.data.errors);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()},children:"Edit"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"album-edit-page__submit-instruction",children:"Submit to start adding songs!"}),Object(n.jsx)("button",{type:"submit",className:"album-edit-page__submit-btn",onClick:function(e){e.preventDefault(),m(!0);var a=new FormData;a.append("title",t),a.append("description",c),a.append("credits",i),a.append("isPublished",j),a.append("file",d),a.append("artistId",x.id),Object(f.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(ke(a));case 3:return t=e.sent,console.log("RES FOR NEW ALBUM ",t.data.newAlbum),e.next=7,p(1);case 7:return e.next=9,b("");case 9:return e.next=11,w([]);case 11:return e.next=13,m(!1);case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(0),e.next=19,m(!1);case 19:e.t0.data&&e.t0.data.errors&&w(e.t0.data.errors);case 20:case"end":return e.stop()}}),e,null,[[0,15]])})))()},children:"Submit"})]})]})}),Ie=a(15),De=function(e){return function(){var t=Object(f.a)(O.a.mark((function t(a,n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("INSIDE CREATE TRACK"),t.next=3,v("/api/tracks",{method:"POST",body:e});case 3:return r=t.sent,console.log("GETTING ALBUM WITH ID ".concat(r.data.newTrack.albumId)),t.next=7,a(we(r.data.newTrack.albumId));case 7:return t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},Ae=function(e,t){return function(){var a=Object(f.a)(O.a.mark((function a(n,r){var c;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("INSIDE CREATE TRACK"),a.next=3,v("/api/tracks/".concat(t),{method:"PATCH",body:e});case 3:return c=a.sent,console.log("GETTING ALBUM WITH ID ".concat(c.data.updatedTrack.albumId)),a.next=7,n(we(c.data.updatedTrack.albumId));case 7:return a.abrupt("return",c);case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},Fe=function(e){return function(){var t=Object(f.a)(O.a.mark((function t(a,n){var r,c,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("INSIDE EDIT ALBUM"),r=n(),c=r.album.current.id,t.next=4,v("/api/tracks/".concat(e),{method:"DELETE"});case 4:return s=t.sent,t.next=7,a(we(c));case 7:return t.abrupt("return",s);case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},Le=function(e){var t=e.currentIdx,a=e.tracksData,c=e.setTracksData,s=e.trackCount,i=e.setTrackIsLoading,o=e.setUploadedTracksVisible,d=e.setCurrentIdx,b=e.setTrackCount,j=e.currentTrackId,m=Object(l.b)(),p=Object(l.c)((function(e){return e.album.current})),x=Object(r.useState)([]),g=Object(u.a)(x,2),v=(g[0],g[1]),_="title".concat(t),N="track".concat(t,"Url");console.log("CURRENT IDX",t);return Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(!0);var t=new FormData;t.append("title",a.title1),t.append("albumId",p.id),t.append("allowDownload",!1),t.append("file",a.track1Url);try{Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(De(t));case 2:return e.sent,e.next=5,o(!0);case 5:return e.next=7,c((function(e){return Object(h.a)(Object(h.a)({},e),{},{track1Url:""})}));case 7:return e.next=9,c((function(e){return Object(h.a)(Object(h.a)({},e),{},{title1:""})}));case 9:return e.next=11,b(s+1);case 11:return e.next=13,d(1);case 13:return e.next=15,i(!1);case 15:console.log("TRACKS DATA!!!!! ",a);case 16:case"end":return e.stop()}}),e)})))()}catch(n){i(!1),n.data&&n.data.errors&&v(n.data.errors)}},className:"album-edit-page__track-form",style:{marginTop:t>1?"".concat(70*(t-2)+245,"px"):0===s?"245px":"".concat(70*s+245,"px")},children:[Object(n.jsx)("label",{className:"album-edit-page__track-title-input",children:"TRACK TITLE"}),Object(n.jsx)("input",{type:"text",name:"trackTitle",value:a[_],placeholder:a[_],onChange:function(e,t){return function(n){console.log("IDX VALUE!!! ",t),e((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(Ie.a)({},t,n.target.value))})),console.log("title1!!! ",a[t])}}(c,_)}),1===t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{children:"upload track:"}),Object(n.jsx)("input",{className:"album-edit-page__upload-input",type:"file",onChange:function(e){return c((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(Ie.a)({},N,e.target.files[0]))}))}}),Object(n.jsx)("button",{className:"album-edit-page__submit-btn",type:"submit",children:"Submit"})]}):Object(n.jsx)("button",{onClick:function(e){e.preventDefault();var n=new FormData;n.append("title",a["title".concat(t)]),n.append("albumId",p.id),n.append("allowDownload",!1),Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(Ae(n,j));case 2:return e.next=4,d(1);case 4:case"end":return e.stop()}}),e)})))()},className:"album-edit-page__edit-btn",type:"submit",children:"Edit"})]})},Ue=function(e){var t=e.tracksData,a=e.setTracksData,c=e.currentIdx,s=e.setCurrentIdx,i=e.setCurrentTrackId,o=e.trackCount,d=e.setTrackCount,b=Object(l.b)(),j=Object(l.c)((function(e){return e.album.current})).tracks,m=Object(r.useState)({}),p=Object(u.a)(m,2),x=(p[0],p[1]);return Object(n.jsx)(n.Fragment,{children:j.map((function(e,r){var l,u="title".concat(r+2);return console.log("KEYNAME",u),console.log("TRACKS DATA!!! ",t),Object(n.jsxs)("div",{onClick:function(){s(r+2),i(e.id),a((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(Ie.a)({},u,e.title))}))},className:c===r+2?"album-edit-page__track-holder active":"album-edit-page__track-holder",children:[Object(n.jsxs)("div",{className:"album-edit-page__track-title",children:[Object(n.jsxs)("span",{children:[r+1,"."]}),t[u]&&c===r+2?t[u]:c!==r+2?e.title:null]}),Object(n.jsx)("button",{className:"album-edit-page__track-delete-btn",onClick:(l=e.id,function(e){e.preventDefault();try{Object(f.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(Fe(l));case 2:return t=e.sent,e.next=5,d(o-1);case 5:return e.next=7,s(1);case 7:console.log("DELETED! ",t);case 8:case"end":return e.stop()}}),e)})))()}catch(t){t.data&&t.data.errors&&x(t.data.errors)}}),children:"delete"})]},e.id)}))})},Re=a(101),Pe=a(104),Be=Object(Re.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function Me(){var e=Be();return Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(Pe.a,{color:"secondary"})})}var Ve=function(e){var t=e.currentIdx,a=e.setCurrentIdx,r=e.addTrackIdx,c=e.trackIsLoading;return Object(n.jsxs)("div",{onClick:function(){return a(1)},className:t===r?"album-edit-page__track-select active":"album-edit-page__track-select",children:[Object(n.jsx)("div",{className:"album-edit-page__add-track-text",children:"add track"}),c?Object(n.jsxs)("div",{className:"album-edit-page__progress-bar-holder ",children:[Object(n.jsx)("span",{children:"Loading..."}),Object(n.jsx)(Me,{})]}):null]})},He=a(103),Ke=Object(Re.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}}));function We(){var e=Ke();return Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(He.a,{color:"secondary"})})}var Ge=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.album.current})),a=Object(r.useState)({}),c=Object(u.a)(a,2),s=c[0],i=c[1],d=Object(r.useState)(0),b=Object(u.a)(d,2),j=b[0],m=b[1],p=Object(r.useState)(""),h=Object(u.a)(p,2),x=h[0],g=h[1],v=Object(r.useState)(""),_=Object(u.a)(v,2),N=_[0],w=_[1],k=Object(r.useState)(""),T=Object(u.a)(k,2),S=T[0],y=T[1],C=Object(r.useState)(""),E=Object(u.a)(C,2),I=E[0],D=E[1],A=Object(r.useState)(!1),F=Object(u.a)(A,2),L=F[0],U=F[1],R=Object(r.useState)(!1),P=Object(u.a)(R,2),B=P[0],M=P[1],V=Object(r.useState)(0),H=Object(u.a)(V,2),K=H[0],W=H[1],G=Object(r.useState)(0),J=Object(u.a)(G,2),X=J[0],Y=J[1],z=Object(r.useState)(!1),q=Object(u.a)(z,2),Q=q[0],Z=q[1],$=Object(r.useState)(!1),ee=Object(u.a)($,2),te=ee[0],ae=ee[1];console.log("TRACK COUNT!!! ",K),console.log(" TRACK ID!!! ",X),Object(r.useEffect)((function(){t&&e(function(){var e=Object(f.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("REMOVE ALBUM"),t({type:Ne});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}),[t,e]);var ne=function(a){a.preventDefault();var n={isPublished:!0};Object(f.a)(O.a.mark((function a(){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e(ye(n,t.id));case 3:return a.next=5,U(!0);case 5:a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}}),a,null,[[0,7]])})))()};return t&&console.log(!!t.imgUrl),Object(n.jsxs)("div",{className:"album-edit-page__holder",children:[Object(n.jsxs)("div",{className:"album-edit-page__left-col",children:[Object(n.jsxs)("div",{onClick:function(e){e.preventDefault(),Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(0);case 2:if(!t){e.next=9;break}return e.next=5,g(t.title);case 5:return e.next=7,w(t.description);case 7:return e.next=9,y(t.credits);case 9:case"end":return e.stop()}}),e)})))()},className:0===j?"album-edit-page__album-select active":"album-edit-page__album-select",children:[t&&t.imgUrl?Object(n.jsx)("div",{className:"album-edit-page__album-art",style:{backgroundImage:"url(".concat(t.imgUrl,")")},children:Object(n.jsx)("button",{type:"submit",onClick:function(a){a.preventDefault();var n={imgUrl:""};Object(f.a)(O.a.mark((function a(){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e(Se(n,t.id));case 3:a.next=7;break;case 5:a.prev=5,a.t0=a.catch(0);case 7:case"end":return a.stop()}}),a,null,[[0,5]])})))()},className:"album-edit-page__artwork-delete-btn",children:Object(n.jsx)("i",{className:"fas fa-times"})})}):Q?Object(n.jsxs)("div",{className:"album-edit-page__album-placeholder",children:[Object(n.jsx)("span",{children:"Loading..."}),Object(n.jsx)(We,{})]}):Object(n.jsx)("div",{className:"album-edit-page__album-placeholder"}),Object(n.jsxs)("div",{className:"album-edit-page__album-details-holder",children:[t&&t.title&&0!==j?Object(n.jsx)("h4",{children:t.title}):x?Object(n.jsx)("h4",{children:x}):Object(n.jsx)("h4",{children:"Untitled Album"}),"by ",Object(n.jsx)("span",{children:"The Pojos"})]})]}),Object(n.jsx)("h4",{className:"album-edit-page__tracks-header",children:"TRACKS"}),B&&t&&t.tracks?Object(n.jsx)(Ue,{tracksData:s,setTracksData:i,currentIdx:j,setCurrentIdx:m,setCurrentTrackId:Y,setTrackCount:W}):null,t?Object(n.jsx)(Ve,{currentIdx:j,setCurrentIdx:m,addTrackIdx:1,tracksData:s,trackIsLoading:te}):null,t&&t.isPublished?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("span",{className:"album-edit-page__publish-message",children:["Your album is LIVE! Take a look",Object(n.jsx)(o.b,{exact:!0,to:"/albums/".concat(t.id),children:" here"})]}),Object(n.jsxs)("button",{className:"album-edit-page__publish-btn",onClick:ne,children:["Published ",Object(n.jsx)(ve.a,{style:{fontSize:14}})]})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"album-edit-page__publish-message",children:"Album will be saved as a draft until it's published"}),Object(n.jsx)("button",{className:"album-edit-page__publish-btn",onClick:ne,children:"Publish"})]})]}),Object(n.jsxs)("div",{className:"album-edit-page__right-col",children:[0===j?Object(n.jsx)(Ee,{albumTitle:x,setAlbumTitle:g,img:I,setImg:D,description:N,setDescription:w,credits:S,setCredits:y,isPublished:L,setAlbumIsLoading:Z,setCurrentIdx:m}):null,j>=1?Object(n.jsx)(Le,{currentIdx:j,trackCount:K,tracksData:s,setTracksData:i,setTrackIsLoading:ae,setUploadedTracksVisible:M,setCurrentIdx:m,setTrackCount:W,currentTrackId:X}):null]})]})},Je=(a(85),a(86),function(e){var t=e.album,a=e.updateProperty,r=e.albumTitle,c=e.setAlbumTitle,s=e.description,i=e.setDescription,l=e.setImg,o=e.credits,u=e.setCredits,d=e.handleEditAlbumBtn,b=e.albumFormErrors;return Object(n.jsxs)("div",{className:"album-edit-page__album-detail-form",children:[Object(n.jsx)("ul",{className:"errors",children:b.map((function(e,t){return Object(n.jsx)("li",{children:e},t)}))}),Object(n.jsx)("label",{className:"album-edit-page__album-title-label",children:"ALBUM TITLE"}),Object(n.jsx)("input",{className:"album-edit-page__album-title-input",type:"text",name:"albumTitle",value:r,onChange:a(c)}),Object(n.jsx)("label",{children:"upload album art:"}),Object(n.jsx)("input",{className:"album-edit-page__upload-input",type:"file",onChange:function(e){return l(e.target.files[0])}}),Object(n.jsx)("label",{children:"about this album:"}),Object(n.jsx)("textarea",{name:"description",value:s,onChange:a(i)}),Object(n.jsx)("label",{children:"credits:"}),Object(n.jsx)("textarea",{name:"credits",value:o,onChange:a(u)}),t?Object(n.jsx)("button",{type:"submit",className:"album-edit-page__edit-btn",onClick:d,children:"Edit"}):Object(n.jsx)(n.Fragment,{children:"null"})]})}),Xe=function(e){var t=e.album,a=e.currentIdx,r=e.handleUploadTrackBtn,c=e.tracksData,s=e.setTracksData,i=e.updateTrackFormProperty,l=e.handleEditTrackTitleBtn,o="title".concat(a),u="track".concat(a,"Url");return console.log("CURRENT IDX",a),Object(n.jsxs)("form",{onSubmit:r,className:"album-edit-page__track-form",style:{marginTop:a>1?"".concat(70*(a-2)+245,"px"):0===t.tracks.length?"245px":"".concat(70*t.tracks.length+245,"px")},children:[Object(n.jsx)("label",{className:"album-edit-page__track-title-input",children:"TRACK TITLE"}),Object(n.jsx)("input",{type:"text",name:"trackTitle",value:c[o],placeholder:c[o],onChange:i(s,o)}),1===a?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{children:"upload track:"}),Object(n.jsx)("input",{className:"album-edit-page__upload-input",type:"file",onChange:function(e){return s((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(Ie.a)({},u,e.target.files[0]))}))}}),Object(n.jsx)("button",{className:"album-edit-page__submit-btn",type:"submit",children:"Submit"})]}):Object(n.jsx)("button",{onClick:l,className:"album-edit-page__edit-btn",type:"submit",children:"Edit"})]})},Ye=function(e){var t=e.album,a=e.tracksData,r=e.setTracksData,c=e.currentIdx,s=e.setCurrentIdx,i=e.handleDeleteTrackBtn,l=e.setCurrentTrackId,o=t.tracks;return Object(n.jsx)(n.Fragment,{children:o.map((function(e,t){var o="title".concat(t+2);return console.log("KEYNAME",o),console.log("TRACKS DATA!!! ",a),Object(n.jsxs)("div",{onClick:function(){s(t+2),l(e.id),r((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(Ie.a)({},o,e.title))}))},className:c===t+2?"album-edit-page__track-holder active":"album-edit-page__track-holder",children:[Object(n.jsxs)("div",{className:"album-edit-page__track-title",children:[Object(n.jsxs)("span",{children:[t+1,"."]}),a[o]&&c===t+2?a[o]:c!==t+2?e.title:null]}),Object(n.jsx)("button",{className:"album-edit-page__track-delete-btn",onClick:i(e.id),children:"delete"})]},e.id)}))})},ze=Object(Re.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function qe(){var e=ze();return Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(Pe.a,{color:"secondary"})})}var Qe=function(e){var t=e.currentIdx,a=e.setCurrentIdx,r=e.addTrackIdx,c=e.trackIsLoading;return Object(n.jsxs)("div",{onClick:function(){return a(1)},className:t===r?"album-edit-page__track-select active":"album-edit-page__track-select",children:[Object(n.jsx)("div",{className:"album-edit-page__add-track-text",children:"add track"}),c?Object(n.jsxs)("div",{className:"album-edit-page__progress-bar-holder ",children:[Object(n.jsx)("span",{children:"Loading..."}),Object(n.jsx)(qe,{})]}):null]})},Ze=Object(Re.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}}));function $e(){var e=Ze();return Object(n.jsx)("div",{className:e.root,children:Object(n.jsx)(He.a,{color:"secondary"})})}var et,tt=function(e){var t=e.user,a=e.editAlbum,c=e.deleteAlbumArtwork,s=e.publishAlbum,i=e.album,b=e.createTrack,j=e.editTrackTitle,m=e.deleteTrack,p=Object(r.useState)(""),x=Object(u.a)(p,2),g=x[0],v=x[1],_=Object(r.useState)(""),N=Object(u.a)(_,2),w=N[0],k=N[1],T=Object(r.useState)(""),S=Object(u.a)(T,2),y=S[0],C=S[1],E=Object(r.useState)(""),I=Object(u.a)(E,2),D=I[0],A=I[1],F=Object(r.useState)(!1),L=Object(u.a)(F,2),U=(L[0],L[1]),R=Object(r.useState)({}),P=Object(u.a)(R,2),B=P[0],M=P[1],V=Object(r.useState)(0),H=Object(u.a)(V,2),K=H[0],W=H[1],G=Object(r.useState)([]),J=Object(u.a)(G,2),X=J[0],Y=J[1],z=Object(r.useState)([]),q=Object(u.a)(z,2),Q=(q[0],q[1]),Z=Object(r.useState)(0),$=Object(u.a)(Z,2),ee=$[0],te=$[1],ae=Object(r.useState)(0),ne=Object(u.a)(ae,2),re=ne[0],ce=ne[1],se=Object(r.useState)(!1),ie=Object(u.a)(se,2),le=ie[0],oe=ie[1],ue=Object(r.useState)(!1),de=Object(u.a)(ue,2),be=de[0],je=de[1],me=Object(l.b)(),pe=Object(d.h)().albumId;console.log("TRACK COUNT!!! ",ee),console.log("CURRENT TRACK ID!!! ",re),Object(r.useEffect)((function(){Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(we(pe));case 2:case"end":return e.stop()}}),e)})))()}),[pe,me]);var Oe=function(e){e.preventDefault();var t={isPublished:!0};Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(t,i.id);case 3:return e.next=5,U(!0);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.data&&e.t0.data.errors&&Y(e.t0.data.errors);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()};return i?Object(n.jsxs)("div",{className:"album-edit-page__holder",children:[Object(n.jsxs)("div",{className:"album-edit-page__left-col",children:[Object(n.jsxs)("div",{onClick:function(e){e.preventDefault(),Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(0);case 2:if(!i){e.next=9;break}return e.next=5,v(i.title);case 5:return e.next=7,k(i.description);case 7:return e.next=9,C(i.credits);case 9:case"end":return e.stop()}}),e)})))()},className:0===K?"album-edit-page__album-select active":"album-edit-page__album-select",children:[i&&i.imgUrl?Object(n.jsx)("div",{className:"album-edit-page__album-art",style:{backgroundImage:"url(".concat(i.imgUrl,")")},children:Object(n.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault();var t={imgUrl:""};Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(t,i.id);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.data&&e.t0.data.errors&&Y(e.t0.data.errors);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},className:"album-edit-page__artwork-delete-btn",children:Object(n.jsx)("i",{className:"fas fa-times"})})}):le?Object(n.jsxs)("div",{className:"album-edit-page__album-placeholder",children:[Object(n.jsx)("span",{children:"Loading..."}),Object(n.jsx)($e,{})]}):Object(n.jsx)("div",{className:"album-edit-page__album-placeholder"}),Object(n.jsxs)("div",{className:"album-edit-page__album-details-holder",children:[i&&i.title&&0!==K?Object(n.jsx)("h4",{children:i.title}):g?Object(n.jsx)("h4",{children:g}):Object(n.jsx)("h4",{children:"Untitled Album"}),"by ",Object(n.jsx)("span",{children:"The Pojos"})]})]}),Object(n.jsx)("h4",{className:"album-edit-page__tracks-header",children:"TRACKS"}),i&&i.tracks?Object(n.jsx)(Ye,{album:i,tracksData:B,setTracksData:M,currentIdx:K,setCurrentIdx:W,setCurrentTrackId:ce,handleDeleteTrackBtn:function(e){return function(t){t.preventDefault();try{Object(f.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:return a=t.sent,t.next=5,te(ee-1);case 5:return t.next=7,W(1);case 7:console.log("DELETED! ",a);case 8:case"end":return t.stop()}}),t)})))()}catch(a){a.data&&a.data.errors&&Y(a.data.errors)}}}}):null,i?Object(n.jsx)(Qe,{currentIdx:K,setCurrentIdx:W,addTrackIdx:1,tracksData:B,trackIsLoading:be}):null,i&&i.isPublished?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("span",{className:"album-edit-page__publish-message",children:["Your album is LIVE! Take a look",Object(n.jsx)(o.b,{exact:!0,to:"/albums/".concat(i.id),children:" here"})]}),Object(n.jsxs)("button",{className:"album-edit-page__publish-btn",onClick:Oe,children:["Published ",Object(n.jsx)(ve.a,{style:{fontSize:14}})]})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"album-edit-page__publish-message",children:"Album will be saved as a draft until it's published"}),Object(n.jsx)("button",{className:"album-edit-page__publish-btn",onClick:Oe,children:"Publish"})]})]}),Object(n.jsxs)("div",{className:"album-edit-page__right-col",children:[0===K?Object(n.jsx)(Je,{album:i,updateProperty:function(e){return function(t){t.preventDefault(),e(t.target.value)}},albumTitle:g,setAlbumTitle:v,setImg:A,description:w,setDescription:k,credits:y,setCredits:C,handleEditAlbumBtn:function(e){e.preventDefault(),oe(!0);var n=new FormData;n.append("title",g),n.append("description",w),n.append("credits",y),n.append("isPublished",i.isPublished),n.append("file",D),n.append("artistId",t.id),Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(n,i.id);case 3:return e.next=5,A("");case 5:return e.next=7,Y([]);case 7:return e.next=9,oe(!1);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),oe(!1),e.t0.data&&e.t0.data.errors&&Y(e.t0.data.errors);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()},albumFormErrors:X}):null,K>=1?Object(n.jsx)(Xe,{album:i,currentIdx:K,handleUploadTrackBtn:function(e){e.preventDefault(),je(!0);var t=new FormData;t.append("title",B.title1),t.append("albumId",i.id),t.append("allowDownload",!1),t.append("file",B.track1Url);try{Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:return e.sent,e.next=5,M((function(e){return Object(h.a)(Object(h.a)({},e),{},{track1:""})}));case 5:return e.next=7,M((function(e){return Object(h.a)(Object(h.a)({},e),{},{title1:""})}));case 7:return e.next=9,te(ee+1);case 9:return e.next=11,W(1);case 11:return e.next=13,je(!1);case 13:console.log("TRACKS DATA!!!!! ",B);case 14:case"end":return e.stop()}}),e)})))()}catch(a){je(!1),a.data&&a.data.errors&&Q(a.data.errors)}},tracksData:B,setTracksData:M,updateTrackFormProperty:function(e,t){return function(a){console.log("IDX VALUE!!! ",t),e((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(Ie.a)({},t,a.target.value))})),console.log("title1!!! ",B[t])}},handleEditTrackTitleBtn:function(e){e.preventDefault();var t=new FormData;t.append("title",B["title".concat(K)]),t.append("albumId",i.id),t.append("allowDownload",!1),Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t,re);case 2:return e.next=4,W(1);case 4:case"end":return e.stop()}}),e)})))()}}):null]})]}):null},at=function(){var e=Object(l.c)((function(e){return e.session.user})),t=Object(l.c)((function(e){return e.album.current})),a=Object(l.b)();return Object(n.jsx)(tt,{user:e,album:t,editAlbum:function(e,t){return a(Te(e,t))},deleteAlbumArtwork:function(e,t){return a(Se(e,t))},publishAlbum:function(e,t){return a(ye(e,t))},createTrack:function(e){return a(De(e))},editTrackTitle:function(e,t){return a(Ae(e,t))},deleteTrack:function(e){return a(Fe(e))}})},nt=a(62),rt=a(60),ct=a.n(rt),st=(a(87),a(88),function(e){var t=e.artistId,a=Object(l.b)(),c=Object(l.c)((function(e){return e.follows.followingList})),s=Object(r.useState)(!1),i=Object(u.a)(s,2),o=i[0],d=i[1];Object(r.useEffect)((function(){d(c.some((function(e){return e.id===t})))}),[c,t]);return Object(n.jsx)(n.Fragment,{children:o?Object(n.jsx)("button",{onClick:function(e){var n;a((n=t,function(){var e=Object(f.a)(O.a.mark((function e(t,a){var r,c,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a(),c=r.session.user.id,console.log("INSIDE DELETE FOLLOW!!",n),e.next=4,v("/api/follows/".concat(n),{method:"DELETE"});case 4:if(401!==(s=e.sent).status){e.next=8;break}return window.location.href="/log-in",e.abrupt("return");case 8:return t(re(c)),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())).then(d(!1))},className:"follow-btn",children:Object(n.jsxs)("span",{children:["Following ",Object(n.jsx)("i",{className:"fa fa-check-circle-o","aria-hidden":"true"})]})}):Object(n.jsx)("button",{onClick:function(e){var n;a((n=t,function(){var e=Object(f.a)(O.a.mark((function e(t,a){var r,c,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a(),c=r.session.user.id,e.next=3,v("/api/follows/".concat(n),{method:"POST"});case 3:return s=e.sent,console.log("add follow successful!!!! ",s.data.newFollow),t(re(c)),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())).then(d(!0))},className:"follow-btn",children:Object(n.jsx)("span",{children:"Follow"})})})}),it=function(e){var t=e.artistId,a=Object(l.b)(),c=Object(l.c)((function(e){return e.follows.followersList}));return Object(r.useEffect)((function(){a(ce(t))}),[t,a]),c&&0!==c.length?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"album-page__followers-header",children:"supported by"}),Object(n.jsx)("div",{className:"album-page__followers-holder",children:c.map((function(e){return Object(n.jsxs)("div",{className:"album-page__followers-photo-holder",children:[Object(n.jsx)("div",{className:"album-page__followers-photo",style:{backgroundImage:"url(".concat(e.imgUrl,")")}}),Object(n.jsx)("div",{className:"album-page__followers-name",children:e.userName})]},e.id)}))})]}):null},lt=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.session.user})),a=Object(l.c)((function(e){return e.follows.followingList})),c=Object(l.c)((function(e){return e.album.current})),s=Object(r.useState)(""),i=Object(u.a)(s,2),b=i[0],j=i[1],m=Object(d.h)().albumId;if(Object(r.useEffect)((function(){e(we(m)).then((function(){return e(re(t.id))}))}),[m,e,t.id]),!c||!a)return null;var p=c.tracks,O=c.artist;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"album-page__holder",children:Object(n.jsxs)("div",{className:"album-page",children:[Object(n.jsx)("div",{className:"album-page__header-holder",children:Object(n.jsx)("h1",{className:"album-page__header",children:c.title})}),Object(n.jsxs)("div",{className:"album-page__content-holder",children:[Object(n.jsxs)("div",{className:"album-page__left-content",children:[Object(n.jsxs)("div",{className:"artist-name-holder",children:["by",Object(n.jsx)(o.b,{className:"left-content__artist-link",exact:!0,to:"",children:O.artistName})]}),Object(n.jsx)("div",{className:"audio-player-holder",children:Object(n.jsx)(nt.a,{autoPlay:!1,volume:.5,src:b,onPlay:function(e){return console.log("onPlay")},showDownloadProgress:!0})}),p.map((function(e,t){return Object(n.jsxs)("div",{className:"track-holder",children:[Object(n.jsx)("div",{className:"track-holder__play-btn",children:Object(n.jsx)(ct.a,{style:{fontSize:"medium"},onClick:function(){return j(e.trackUrl)}})}),Object(n.jsxs)("span",{children:[t+1,". "]}),Object(n.jsx)("button",{onClick:function(){return j(e.trackUrl)},className:"track",children:e.title})]},e.id)})),Object(n.jsxs)("div",{className:"description",children:[Object(n.jsx)("div",{className:"description__header",children:"About album"}),c.description]}),Object(n.jsx)("div",{className:"rights",children:"all rights reserved \xa9"})]}),Object(n.jsxs)("div",{className:"album-page__middle-content",children:[Object(n.jsx)("div",{className:"album-cover-holder",children:Object(n.jsx)("img",{alt:"album cover",className:"album-cover",src:c.imgUrl})}),Object(n.jsx)(it,{artistId:O.id})]}),Object(n.jsxs)("div",{className:"album-page__right-content",children:[Object(n.jsx)("img",{alt:"artist",className:"artist-photo",src:O.imgUrl}),Object(n.jsx)("div",{className:"artist-name",children:O.artistName}),Object(n.jsx)(st,{artistId:O.id}),Object(n.jsx)("div",{className:"bio",children:O.bio})]})]})]})})})},ot=function(){var e=Object(l.b)(),t=Object(r.useState)(!1),a=Object(u.a)(t,2),c=a[0],s=a[1];return Object(r.useEffect)((function(){e(function(){var e=Object(f.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v("/api/session");case 2:return a=e.sent,t(k(a.data.user)),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){return s(!0)}))}),[e]),c&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(te,{isLoaded:c}),Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{exact:!0,path:"/signup",render:function(){return Object(n.jsx)(Z,{})}}),Object(n.jsx)(d.b,{exact:!0,path:"/login",children:Object(n.jsx)($,{})}),Object(n.jsx)(d.b,{exact:!0,path:"/albums/:albumId",children:Object(n.jsx)(lt,{})}),Object(n.jsx)(d.b,{exact:!0,path:"/dashboard",children:Object(n.jsx)(xe,{})}),Object(n.jsx)(d.b,{exact:!0,path:"/create-album",children:Object(n.jsx)(Ge,{})}),Object(n.jsx)(d.b,{exact:!0,path:"/edit-album/:albumId",children:Object(n.jsx)(at,{})})]})]})},ut=a(29),dt=a(61),bt=Object(ut.c)({session:E,artistSignupForm:G,fanSignupForm:V,loginForm:Y,roleForm:Q,genres:A,follows:le,albums:be,album:Ce});et=Object(ut.a)(dt.a);var jt=function(e){return Object(ut.d)(bt,e,et)}();function mt(){return Object(n.jsx)(l.a,{store:jt,children:Object(n.jsx)(o.a,{children:Object(n.jsx)(ot,{})})})}i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(mt,{})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.4522f99d.chunk.js.map